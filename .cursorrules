# Правила проекта Wine Quiz

## Автоматический деплой после изменений кода

**ВАЖНО: Это правило должно выполняться ВСЕГДА после внесения изменений в код.**

После любых изменений в коде необходимо выполнить следующие шаги в указанном порядке:

1. **Запушить изменения в GitHub**
   - Создать коммит с изменениями
   - Запушить в удаленный репозиторий (git push)

2. **Внести изменения на сервер по SSH**
   - Подключиться к серверу: `ssh root@85.239.48.51`
   - Перейти в директорию проекта: `cd /var/www/winequiz`
   - Получить последние изменения из GitHub: `git pull`

3. **Пересобрать проект**
   - Установить зависимости (если нужно): `npm install`
   - Выполнить миграции БД (если есть): `npx prisma migrate deploy`
   - Пересобрать проект: `npm run build`
   - Перезапустить процессы через PM2:
     - `pm2 restart winequiz-web`
     - `pm2 restart winequiz-socket`

**Это правило применяется автоматически после каждого изменения кода.**
